<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="./output.css" rel="stylesheet" />
    <title>JEE</title>
  </head>
  <body class="prose prose-stone dark:prose-stone-dark mx-auto p-4">
    <h1>Main page</h1>
    <div id="links" class="flex flex-col space-y-4"></div>
  </body>
  <script>
    fetch("./files.json")
      .then((response) => response.json())
      .then((json) => {
        for (var i = 0; i < json.length; i++) {
          let elem = document.getElementById("links");
          let cls = `px-3 py-1 text-white no-underline bg-stone-800 rounded-lg`;
          elem.innerHTML += `<div><a href="https://2moss.github.io/jee/${json[i]}" class="${cls}">${json[i]}</a></div>`;
          // elem.innerHTML += `<div><a href="${json[i]}/index.html" class="${cls}">${json[i]}</a></div>`;
        }
      })
      .catch((error) => {
        console.error("Error fetching JSON:", error);
      });

    const colorSchemeQuery = window.matchMedia("(prefers-color-scheme: dark)");

    if (colorSchemeQuery.matches) {
      document.documentElement.classList.add("dark");
    } else {
      document.documentElement.classList.remove("dark");
    }

    const colorSchemeChange = (e) => {
      if (e.matches) {
        document.documentElement.classList.add("dark");
      } else {
        document.documentElement.classList.remove("dark");
      }
    };
  </script>
</html>
